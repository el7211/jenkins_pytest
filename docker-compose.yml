services:
  pytest-runner:
    env_file:
      - .env
    image: python:3.11
    container_name: test-runner
    volumes:
       - .:/app
    working_dir: /app
    command: >
      bash -c "
        echo 'ðŸ“‚ Listing /app contents...' &&
        ls /app &&
        echo 'ðŸ“„ Checking requirements.txt...' &&
        cat /app/requirements.txt &&
        echo 'âœ… Looks good!' &&
        pip install -r /app/requirements.txt &&
        echo 'ðŸ§ª Running pytest...' &&
        pytest -s /app/tests &&
        tail -f /dev/null"
